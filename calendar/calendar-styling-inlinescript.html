<script>

/**
 * Put the code in a textfield or textblock on the main page (or another page) for showing today's date on the calendar block
 * Furthermore you can go to the function setLinks() and follow the instructions if you want to. 
 *
 * @name Moodle Calendar Styling - Inlinescript
 * @version 1.1
 * @license GNU General Public Licence 3.0 - http://www.gnu.de/documents/gpl-3.0.en.html
 * @copyright (C) 2022, TRMSC - https://trmsc1.wordpress.com/
 *
 *
 */
 let showTime = true; //CHANGE TO FALSE IF YOU DON'T WANT TO SHOW THE TIME
 
 let setDate = function() {
     let date = new Date();
     let day = date.getDate();
     let month = date.getMonth() + 1; 
     let year = date.getFullYear(); 
     
     day = day < 10 ? '0' + day : day;
     month = month < 10 ? '0' + month : month;
          
     let fullDate = document.createElement('h3');
     fullDate.textContent = day + '.' + month + '.' + year;
     fullDate.id = 'tr-calendar-date';
     let position = document.getElementsByClassName('block_calendar_month')[0].getElementsByClassName('content')[0];
     position.before(fullDate);
     if (showTime) {
         setTime(fullDate);
     };
 };
     
 let setTime = function(fullDate) {
     let hours;
     let minutes;
     let seconds;
     let fullTime = document.createElement('h5');
     fullDate.after(fullTime);
     let interval = setInterval (function(){
         date = new Date();
         hours = date.getHours();
         hours = hours < 10 ? '0' + hours : hours;
         minutes = date.getMinutes();
         minutes = minutes < 10 ? '0' + minutes : minutes;
         seconds = date.getSeconds();
         seconds = seconds < 10 ? '0' + seconds : seconds;
         fullTime.textContent = hours + ':' + minutes + ':' + seconds;
     }, 1000);
 };

 let setLinks = function() {
    /* Put your moodle URL into the following code and delete the two slashes in both lines for building links to the calendar and event site in the blocks.*/
     
    // $(".block_calendar_month .card-title").after("<a href='URL-OF-YOUR-CALENDERSITE'> <i class='fa fa-external-link'></i></a>");
    // $(".block_calendar_upcoming .card-title").after("<a href='URL OF YOUR EVENTSITE'> <i class='fa fa-external-link'></i></a>");
 };
     
 window.onload = function() {
     setDate();
     // FUNCTION FOR LINKS IS NOT TRANSLATED TO VANILLA JS FOR NOW
     //setLinks();
 }
    
</script>
